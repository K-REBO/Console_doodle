/*
Parasaurolophus
Triceratops
Tyranosaurus rex
Velociraptor
*/
#include<ncurses.h>
#include<vector>
using namespace std;


vector<vector<int>> MAP_DINO;

WINDOW *win;
vector<vector<int>> MAP_Trish = {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},//0
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},//1
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0},//2
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0},//3
    {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0},//4
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},//5
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0},//6
    {0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},//7
    {0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},//8
    {0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},//9
    {0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1},//10
    {0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1},//11
    {1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0},//12
    {1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,0,0},//13
    {1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},//14                       
    {0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},//15
    {0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},//16
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},//17
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0},//18            
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},//19
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},//20
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},//21
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},//22
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},//23
    {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},//24
    {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},//25
    {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0},//26
    {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},//27
    {0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},//28
    {0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},//29
    {0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},//30
    {0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},//31
    {0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},//32
    {0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},//33
    {0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},//34
    {0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0},//35
};
vector<vector<int>> MAP_REX;
vector<vector<int>> MAP_Para;
vector<vector<int>> MAP_Velo;

struct Actor
{
    int X;
    int Y;
    int State;

};




const int X_Field = 36 * 7;
const int Y_Field = 36 * 3;

int Frame = 0;




//Variables
    void Display(int DINO_Pos_X,int DINO_Pos_Y)
    {
       int VarX = DINO_Pos_X;
        //Display DINO
            move(DINO_Pos_Y,DINO_Pos_X);//First Place to addch()
            for(int y = 0;y < 36;++y)
            {   for(int x = 0;x < 36;++x)
                {
                    if(MAP_DINO[y][x] == 1)
                        mvaddch(DINO_Pos_Y,DINO_Pos_X,'=');
                    else
                        mvaddch(DINO_Pos_Y,DINO_Pos_X,' ');
    
                DINO_Pos_X++;
                }
    
                DINO_Pos_X = VarX;
    
                DINO_Pos_Y++;
            }    



        //Display Field
            mvaddch(0,0,'+');
            mvaddch(0,X_Field,'+');
            mvaddch(Y_Field,0,'+');
            mvaddch(Y_Field,X_Field,'+');
    }




    void Input(char c,int &Y_Pos)
    {
        if((c == ' ')&&(Frame == 0))
        {
            Y_Pos = Y_Pos - 1;Frame++;
        }

        switch (Frame)
        {
            
            case 1:Y_Pos = Y_Pos - 2;Frame++;  break;//Jump
            case 2:Y_Pos = Y_Pos - 4;Frame++;  break;//Jump
            case 3:Y_Pos = Y_Pos - 8;Frame++;  break;//Jump
            case 4:Y_Pos = Y_Pos - 16;Frame++;  break;//Jump

            case 5:Y_Pos = Y_Pos + 16;Frame++;  break;//Fall
            case 6:Y_Pos = Y_Pos + 8;Frame++;  break;//Fall
            case 7:Y_Pos = Y_Pos + 4;Frame++;  break;//Fall
            case 8:Y_Pos = Y_Pos + 2;Frame++;  break;//Fall
            case 9:Y_Pos = Y_Pos + 1;Frame = 0;break;//Fall
            default:                           break;
        }
        
        
    }
    





    void CD()
    {

    }



    void Select()
    {   
        erase();
        addstr("Select charactor");
        switch (getch())
        {
            case 'D':MAP_DINO = MAP_Trish;break;
            case ' ':addstr("Error");break;
            default:break;
        }
    }





//END


int main()
{
    initscr();
    cbreak();
    noecho();
    char c;
    

    Actor DINO;
    DINO.X = X_Field / 4 - 10;
    DINO.Y = Y_Field / 2;

    timeout(-1);
    Select();

    timeout(70);
    Display(DINO.X,DINO.Y);
    while((c = getch()) != 0x1b)
    {   
        erase();//Clear Display

        Input(c,DINO.Y);//input c && change DINO.X and DINO.Y

        Display(DINO.X,DINO.Y);


        wrefresh(win);
    }

    wclear(win);
    wrefresh(win);
    endwin();
}
